以下是一個以「業務員銷售」為情境的範例，並附上相關的數據庫設計題目與實作練習，讓學生可以透過動手操作進一步了解SQL的數據定義、查詢、更新等語法，並熟悉數據庫物件之間的關聯與操作。以下內容參考前述課本範例的結構，並進行擴充：

---

### 【情境說明】

假設某公司建立了一個銷售管理系統，主要記錄業務員資訊、客戶資料與銷售記錄。系統主要包括以下三個模組：

1. **業務員模組（Sales Representative）**  
   記錄各業務員的基本資訊，如業務員編號、姓名、聯絡方式、所屬區域等。

2. **客戶模組（Customer）**  
   記錄客戶的基本資料，包括客戶編號、名稱、聯絡人、電話、地址等。

3. **銷售記錄模組（Sales Record）**  
   記錄每一筆銷售交易，包含銷售記錄編號、銷售日期、業務員編號、客戶編號、銷售金額等，並且利用外鍵關聯業務員與客戶表。

假設系統由用戶 **SALES** 擁有，並且需要建立一個名為 **SalesDB** 的模式。

---

### 【實作練習題目】

以下提供一系列題目，學生可依題目要求撰寫SQL語句並實際操作：

#### **題目 1：定義模式**
- **要求：**  
  為用戶 **SALES** 定義一個銷售管理模式 **SalesDB**，若模式名稱未指定，則隱含為用戶名稱。
- **提示：**  
  使用 `CREATE SCHEMA` 語句，可參考例3.1與例3.2。

#### **題目 2：建立「業務員」表**
- **要求：**  
  建立一個表 **SalesRep**，包含以下欄位：
  - RepID：CHAR(6)，主鍵
  - RepName：VARCHAR(30)，需設唯一約束（確保姓名唯一）
  - Email：VARCHAR(50)
  - Phone：CHAR(10)
  - Region：VARCHAR(20)
- **提示：**  
  使用 `CREATE TABLE` 語句定義欄位與約束，參考例3.5。

#### **題目 3：建立「客戶」表**
- **要求：**  
  建立一個表 **Customer**，包含以下欄位：
  - CustID：CHAR(6)，主鍵
  - CustName：VARCHAR(40)，不可為空（NOT NULL）
  - ContactPerson：VARCHAR(30)
  - Phone：CHAR(10)
  - Address：VARCHAR(100)
- **提示：**  
  注意設置必填欄位與主鍵約束。

#### **題目 4：建立「銷售記錄」表**
- **要求：**  
  建立一個表 **SalesRecord**，包含以下欄位：
  - RecordID：CHAR(8)，主鍵
  - RepID：CHAR(6)，外鍵參照 **SalesRep(RepID)**
  - CustID：CHAR(6)，外鍵參照 **Customer(CustID)**
  - SaleDate：DATE
  - Amount：NUMERIC(10, 2)
- **提示：**  
  可參考例3.7建立複合或單一主鍵及外鍵約束。

#### **題目 5：新增欄位**
- **要求：**  
  為 **SalesRep** 表新增欄位 **HireDate**，資料型態為 DATE，用以記錄業務員入職日期。
- **提示：**  
  參考例3.8中的 `ALTER TABLE ... ADD` 語句。

#### **題目 6：修改資料型態**
- **要求：**  
  假設 **Customer** 表中 **Phone** 欄位原先定義為 CHAR(10)，現需調整為 VARCHAR(15)（以適應國際電話格式），請撰寫相應語句。
- **提示：**  
  使用 `ALTER TABLE ... ALTER COLUMN ... TYPE` 語法，參考例3.9。

#### **題目 7：添加唯一約束**
- **要求：**  
  為 **Customer** 表的 **CustName** 欄位添加唯一約束，以避免出現重複的客戶名稱。
- **提示：**  
  參考例3.10的修改表方式，使用 `ALTER TABLE ... ADD UNIQUE`。

#### **題目 8：建立索引**
- **要求：**  
  為 **SalesRep** 表建立一個索引，根據 **RepName** 進行升序排序，要求索引值唯一；  
  同時，為 **SalesRecord** 表建立一個複合索引，先依 **SaleDate** 升序，再依 **Amount** 降序，以加速查詢最近銷售記錄與高額銷售紀錄。
- **提示：**  
  使用 `CREATE UNIQUE INDEX` 與 `CREATE INDEX` 語句，參考例3.13。

#### **題目 9：修改索引名稱**
- **要求：**  
  將 **SalesRecord** 表上剛建立的複合索引重新命名為 **Idx_SaleDate_Amount**。
- **提示：**  
  參考例3.14使用 `ALTER INDEX ... RENAME TO ...`。

#### **題目 10：刪除索引與表**
- **要求：**  
  實作以下操作：
  - 刪除 **SalesRep** 表上針對 **RepName** 建立的唯一索引。
  - 使用 **CASCADE** 選項刪除 **Customer** 表，並同時刪除所有依賴此表的外鍵約束（例如在 **SalesRecord** 表上的參照）。
- **提示：**  
  參考例3.15及例3.11中的刪除操作。

---

### 【學習重點】

- **模式與表的管理：**  
  學習如何定義模式、建立與刪除表、以及如何處理依賴關係（RESTRICT 與 CASCADE）。

- **約束與數據完整性：**  
  熟悉主鍵、唯一約束、外鍵約束的定義與修改，確保數據的一致性。

- **索引管理：**  
  掌握如何建立、修改與刪除索引，以優化查詢性能。

- **數據庫實作流程：**  
  通過從建立架構、創建表到修改和刪除操作，完整體驗數據庫設計與管理的流程。

---

透過上述「業務員銷售」情境與相關題目，學生可以從實際案例出發，鞏固SQL數據定義與管理的基本技能，並學習如何根據業務需求設計適合的數據庫結構。